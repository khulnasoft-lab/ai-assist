---
name: Mistral 7B Code Generations
model:
  name: mistral
  params:
    model_class_provider: litellm
    temperature: 0.95
    max_tokens: 512
    max_retries: 1
unit_primitives:
  - code_suggestions
prompt_template:
  user: |
    <s>[INST] You are a tremendously accurate and skilled code generation agent. We want to generate new {{language}} code inside the file '{{file_name}}'. Your task is to provide valid code without any additional explanations, comments, or feedback.

    When generating the new code, please ensure the following:
    1. It is valid {{language}} code.
    2. It matches the existing code's variable, parameter, and function names.
    3. The code fulfills the instructions.
    4. Do not add any comments, including instructions.
    5. Return the code result without any extra explanation or examples.

    If you are not able to generate code based on the given instructions, return an empty result.
    [/INST]

    [INST]
    ## Existing code:

    {{prefix}}

    ## Instruction to generate the new code:

    {%- if instruction %}
      {{instruction}}
    {%- else %}
      Generate the best possible code based on instructions.
    {%- endif %}

    [/INST]
params:
  timeout: 60
